---
title: gitbook使用
comments: true
date: 2018-11-28 18:23:58
tags:
- Gitbook
categories:
- web
---

Gitbook的搭建

gitbook是一个npm工具使用的是git和markdown技术支持构建多种格式的ebook.

#### 安装

```
npm install gitbook-cli
gitbook -V
```

#### 初始化

创建一个空目录,生成README.md SUMMARY.md两个文件,使用如下命令

`gitbook init`

- README.md —— 书籍的介绍写在这个文件里
- SUMMARY.md —— 书籍的目录结构在这里配置

#### 编辑电子书

目录编辑

```
* [第一章](section1/README.md)
    * [第一节](section1/example1.md)
    * [第二节](section1/example2.md)
* [第二章](section2/README.md)
    * [第一节](section2/example1.md)
```

目录支持三级，目录中可以带链接.名录名+链接的方式.链接即相对md文件名字.

#### 本地预览

`gitbook serve`

#### 发布电子书

`gitbook build`

在本地目录生成_book静态网页电子书

#### 生成电子书

安装插件calibre. [https://calibre-ebook.com/download](https://link.jianshu.com/?t=https://calibre-ebook.com/download)

添加环境变量：

```
cd ~
vim .bash_profile
PATH = /Applications/calibre.app/Contents/MacOS:${PATH}"
source .bash_profile
```

生成电子书命令如下：

```
gitbook pdf
gitbook mobi
```

#### 部署到github

利用gh-pages将gitbook生成的静态网页发布到github pages上.

1. 安装gh-pages `npm install g gh-pages` 

2. 在github上创建仓库例如cocos2dx

3. 将书籍源码push到仓库的master分支

4. 将_book发布到github仓库的gh-pages分支

   ```
   gitbook build
   gh-pages -d _book
   ```



